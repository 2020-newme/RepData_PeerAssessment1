---
title: "Reproducible Research: Peer Assessment 1"
output: 
  html_document:
    keep_md: true
---

```{r echo = FALSE}
# change knitr defaults for the file

# Ensure code chunks are included in the output
knitr::opts_chunk$set(echo = TRUE)

# but not the messages the code may generate
knitr::opts_chunk$set(message = FALSE)
```

## Loading and preprocessing the data

The first step is loading and pre-processing the data.

```{r}
unzip("activity.zip")

library(readr)
activity <- read_csv(
  "activity.csv",
  col_types = cols(
    date = col_date(format = "%Y-%m-%d"),
    interval = col_integer(),
    steps = col_integer()
  )
)
```

As the repository already contains the data file, it's not necessary to download it, but it's zipped, so we first unzip it, and then use the `read_csv` function to load it into the session.

```{r}
activity_cc <- activity[complete.cases(activity),]
```

A dataframe with only the complete cases will be useful to answer some of the questions.

Finally, is also generally handy to have the `dplyr` package loaded.

```{r}
library(dplyr)
```

## What is mean total number of steps taken per day?

To have a better understanding of the tutal number of steps taken per day, we first group the observations by date and sum the steps in each group.

```{r echo=TRUE}
steps_by_date <- activity_cc %>%
  group_by(date) %>%
  summarise(steps = sum(steps))
```

Then, the `summary` function can quickly give us some metrics on the resulting `steps` variable, like its mean and median.

```{r echo=TRUE}
summary(steps_by_date$steps)
```

And a histogram can help us visualize it further.

```{r echo=TRUE}
hist(
  steps_by_date$steps,
  breaks = 10,
  main = "Histogram of Steps Taken per Day",
  xlab = "total steps"
)
```

So, we see that the it was most frequent to take a little over ten thousand steps in a day.

## What is the average daily activity pattern?

```{r}
interval_means <- activity_cc %>%
  group_by(interval) %>%
  summarise(steps = mean(steps))

library(ggplot2)
ggplot(data = interval_means, aes(x = interval, y = steps)) +
  geom_line()

```

## Imputing missing values



## Are there differences in activity patterns between weekdays and weekends?
